@using KCC.Web.Features.Ssr
@using Microsoft.AspNetCore.Hosting
@using Microsoft.Extensions.Hosting

@inject IWebHostEnvironment Env

@model BasePageViewModel

<!DOCTYPE html>
<html lang="en">

<head>
  <partial name="~/Features/Pages/Shared/Partials/_Metadata.cshtml" />

  @if (Env.IsDevelopment())
  {
    @* In dev: Tailwind CLI watches and outputs CSS here (run yarn dev:css) *@
    <link rel="stylesheet" href="/assets/main-dev.css" />
  }
  <link rel="stylesheet" vite-href="/Features/Main.ts" asp-append-version="true" />
  <page-builder-styles />
</head>

<body>
  @await Html.RenderVueSsrAsync(
    await Component.InvokeAsync("Header"),
    RenderBody(),
    await Component.InvokeAsync("Footer")
  )

  <script type="module" vite-src="/Features/Main.ts" asp-append-version="true"></script>
  <page-builder-scripts />
</body>

</html>
